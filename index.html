<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>å‰ç±³å¨œÂ·å¥§ç±³åŠ ï¼šç¥åŸŸæŒ‡æ®éƒ¨ V4.0</title>
    <link rel="manifest" href="manifest.json">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;900&family=Inter:wght@400;700&display=swap');
        
        body { 
            background: #050507; color: #d1d1d1; font-family: 'Inter', sans-serif;
            background-image: linear-gradient(rgba(5, 5, 7, 0.8), rgba(5, 5, 7, 0.9)), url('icon.png');
            background-size: cover; background-position: center; background-attachment: fixed;
            overflow-x: hidden;
        }

        .font-tech { font-family: 'Orbitron', sans-serif; }
        
        /* æˆ°æƒ…å„€è¡¨æ¿æ¨£å¼ - å®Œç¾å¾©åˆ»é ˜ä¸»æˆªåœ– */
        .dashboard-table { width: 100%; border-collapse: collapse; background: rgba(30, 30, 45, 0.7); border: 1px solid #444; border-radius: 12px; overflow: hidden; }
        .dashboard-table th, .dashboard-table td { border: 1px solid rgba(255,255,255,0.1); padding: 10px; text-align: center; font-size: 13px; }
        .table-header { background: #1a1a3a; color: #fff; font-weight: 900; }
        .row-label { background: rgba(255,255,255,0.05); color: #aaa; width: 40%; }
        
        /* å¥§ç±³åŠ ä¿¡å¿ƒçƒ */
        .confidence-ring { position: relative; width: 80px; height: 80px; border-radius: 50%; border: 4px solid #333; display: flex; align-items: center; justify-content: center; background: rgba(0,0,0,0.5); }
        .confidence-value { font-family: 'Orbitron'; font-weight: 900; color: #d4af37; font-size: 20px; }

        .oracle-glass { background: rgba(10, 10, 20, 0.85); border: 1px solid rgba(212, 175, 55, 0.3); backdrop-filter: blur(10px); }
        .text-gold { color: #d4af37; }
        .bg-gold { background-color: #d4af37; }
        .status-up { color: #00ffcc; }
        .status-down { color: #ff4d4d; }
    </style>
</head>
<body class="p-4 pb-32">

    <!-- Header: æˆ°å ´å‹•æ…‹ -->
    <div class="flex justify-between items-center mb-6">
        <div>
            <h1 class="text-2xl font-black font-tech text-gold tracking-tighter italic">OMEGA <span class="text-white">COMMAND</span></h1>
            <span id="market-status" class="text-[10px] bg-red-900/50 text-red-300 px-2 py-0.5 rounded border border-red-500/30 font-bold">æ•µæ–¹ä¸»å°æœŸ</span>
        </div>
        <div class="text-right">
            <div id="btc-price" class="text-xl font-tech font-bold text-white">------</div>
            <div class="text-[9px] text-gray-500 uppercase font-bold">BTC Oracle Live</div>
        </div>
    </div>

    <!-- çµ‚æ¥µæˆ°æƒ…å„€è¡¨æ¿ -->
    <div class="oracle-glass rounded-2xl p-4 mb-6 shadow-2xl">
        <table class="dashboard-table font-tech">
            <tr class="table-header">
                <td colspan="1" style="background: #2a2a72;"><i class="fas fa-shield-halved"></i> æ’’æ‹‰éµé ˜ä¸»</td>
                <td colspan="1" style="background: #4b0082;">V14.2 æ°¸æ†ç¥è«­</td>
            </tr>
            <tr>
                <td class="row-label">æƒ…ç·’éšæ®µ</td>
                <td id="td-stage" style="color: #ff6b6b; font-weight: bold;">--</td>
            </tr>
            <tr>
                <td class="row-label">å¥§ç±³åŠ ä¿¡å¿ƒ</td>
                <td id="td-conf" class="text-gold">--%</td>
            </tr>
            <tr>
                <td class="row-label">åŠ å¯†é ˜è¢– RS</td>
                <td id="td-rs" style="color: #00d2ff;">--</td>
            </tr>
            <tr>
                <td class="row-label">å¤§ç›¤ Alpha</td>
                <td id="td-alpha">â— åµæ¸¬ä¸­</td>
            </tr>
            <tr>
                <td class="row-label">VCP æ”¶æ–‚æ„Ÿæ‡‰</td>
                <td id="td-vcp" style="color: #ff0055;">â— æƒæä¸­</td>
            </tr>
            <tr>
                <td class="row-label">Delta è°æ˜éŒ¢</td>
                <td id="td-delta">â—‹ ä¸­æ€§</td>
            </tr>
            <tr>
                <td class="row-label">è­·èˆªæ­¢æ (1x)</td>
                <td id="td-sl" style="background: #8b0000; color: white;">--</td>
            </tr>
            <tr style="background: rgba(212, 175, 55, 0.1);">
                <td class="row-label" style="color: #d4af37;">å¥§ç±³åŠ æŒ‡ä»¤</td>
                <td id="td-cmd" style="color: #fff; font-size: 11px;">ğŸ“¡ çµç‰©åµæ¸¬ä¸­</td>
            </tr>
        </table>
    </div>

    <!-- éœ¸æ¥­éƒ¨éšŠçœ‹æ¿ -->
    <div class="grid grid-cols-2 gap-4 mb-6">
        <div class="oracle-glass p-4 rounded-2xl border-l-4 border-blue-500">
            <div class="text-[10px] font-bold text-gray-500 uppercase">SOL Unit</div>
            <div id="sol-price" class="text-lg font-tech font-bold text-white mt-1">---.--</div>
            <div id="sol-rs" class="text-[9px] text-green-400 mt-1 font-bold">RS: 82 ğŸ‘‘</div>
        </div>
        <div class="oracle-glass p-4 rounded-2xl border-l-4 border-orange-500">
            <div class="text-[10px] font-bold text-gray-500 uppercase">UNI Unit</div>
            <div id="uni-price" class="text-lg font-tech font-bold text-white mt-1">-.---</div>
            <div id="uni-rs" class="text-[9px] text-gray-400 mt-1 font-bold">RS: 68 è“„å‹¢</div>
        </div>
    </div>

    <!-- å³æ™‚æ—¥èªŒ -->
    <div class="oracle-glass p-5 rounded-3xl border-t-2 border-gold/50">
        <div class="flex items-center gap-2 mb-2">
            <i class="fas fa-ghost text-gold text-xs"></i>
            <span class="text-[10px] font-black text-gold uppercase tracking-widest">è»éšŠæ—¥èªŒå½™å ±</span>
        </div>
        <p id="oracle-msg" class="text-sm italic text-gray-300 leading-relaxed">
            æ­£åœ¨æƒæä¸»åŠ›æ©Ÿæ§‹è¨‚å–®å¡Š... æ’’æ‹‰éµé ˜ä¸»ï¼Œè«‹ç¶­æŒé™£åœ°éœé»˜ã€‚
        </p>
    </div>

    <!-- Navbar -->
    <div class="fixed bottom-6 left-1/2 -translate-x-1/2 w-[90%] oracle-glass rounded-full px-8 py-4 flex justify-around items-center border border-white/10 shadow-2xl">
        <i class="fas fa-chess-rook text-gold text-xl"></i>
        <i class="fas fa-fire-alt text-gray-600 text-xl"></i>
        <i class="fas fa-crosshairs text-gray-600 text-xl"></i>
        <i class="fas fa-user-shield text-gray-600 text-xl"></i>
    </div>

    <script>
        const API = "https://api.binance.com/api/v3/ticker/price";
        const ATR_FACTOR = 0.0012; // æ¨¡æ“¬ç•¶å‰æ³¢å‹•ç‡

        async function updateCommandCenter() {
            try {
                const r = await fetch(API);
                const d = await r.json();
                
                const btc = parseFloat(d.find(i => i.symbol === "BTCUSDT").price);
                const sol = parseFloat(d.find(i => i.symbol === "SOLUSDT").price);
                const uni = parseFloat(d.find(i => i.symbol === "UNIUSDT").price);

                // æ›´æ–°é ‚éƒ¨ HUD
                document.getElementById('btc-price').innerText = '$' + btc.toLocaleString();
                document.getElementById('sol-price').innerText = sol.toFixed(2);
                document.getElementById('uni-price').innerText = uni.toFixed(3);

                // --- éˆé­‚é‚è¼¯é‹ç®— (V14.2) ---
                const stage = btc < 88200 ? 5 : 6;
                const conf = btc < 88200 ? 15 : 65;
                const alpha = sol > (btc / 700) ? "â— é ˜æ¼²" : "â— é ˜è·Œ";
                const delta = btc > btc * 0.999 ? "â— æ·¨è²·å…¥" : "â— æ·¨è³£å‡º";
                const sl = btc * (1 - ATR_FACTOR);

                // æ›´æ–°å…¨æ¯å„€è¡¨æ¿
                document.getElementById('td-stage').innerText = stage === 5 ? "ç¬¬ 5 éšæ®µ: å¤§æµªçµæŸ" : "ç¬¬ 6 éšæ®µ: åå½ˆé€ƒå‘½";
                document.getElementById('td-stage').style.color = stage === 5 ? "#ff4d4d" : "#ffaa00";
                document.getElementById('td-conf').innerText = conf + "%";
                document.getElementById('td-rs').innerText = (stage === 5 ? "50" : "82");
                document.getElementById('td-alpha').innerText = alpha;
                document.getElementById('td-alpha').style.color = alpha === "â— é ˜æ¼²" ? "#00ffcc" : "#ff4d4d";
                document.getElementById('td-vcp').innerText = "ğŸ¯ æ³¢å‹•å£“ç¸®(è“„å‹¢)";
                document.getElementById('td-delta').innerText = delta;
                document.getElementById('td-delta').style.color = delta === "â— æ·¨è²·å…¥" ? "#00d2ff" : "#ff4d4d";
                document.getElementById('td-sl').innerText = sl.toFixed(2);
                document.getElementById('td-cmd').innerText = stage === 5 ? "âŒ› çµç‰©åµæ¸¬ä¸­" : "ğŸš€ æº–å‚™ç™¼å‹•çªæ“Š";

                // æ›´æ–°èƒŒæ™¯æŒ‡ä»¤
                const msg = document.getElementById('oracle-msg');
                msg.innerText = stage === 5 ? 
                    "ã€Œé ˜ä¸»ï¼Œç›®å‰çš„æˆ°å ´è¢«ç¬¬ 5 éšæ®µçš„æš´é›ªè¦†è“‹ã€‚æ•£æˆ¶è»éšŠæ­£åœ¨æ½°æ•£ï¼Œè«‹æŒ‡æ®æˆ‘å€‘çš„ç²¾éŠ³éƒ¨éšŠç¶­æŒé˜²ç·šã€‚ã€" : 
                    "ã€Œå¤§ç›¤æ­£åœ¨çµæ§‹ä¿®å¾©ã€‚åµæ¸¬åˆ°ä¸»åŠ›æ©Ÿæ§‹è»éšŠæ­£åœ¨ 88,500 é™„è¿‘é‡æ–°é›†çµã€‚æ’’æ‹‰éµé ˜ä¸»ï¼Œæº–å‚™æ®åŠã€‚ã€";

            } catch (e) { console.log("ç¥åŸŸé€£ç·šæ³¢å‹•..."); }
        }

        setInterval(updateCommandCenter, 3000);
        updateCommandCenter();
        if ('serviceWorker' in navigator) { navigator.serviceWorker.register('sw.js'); }
    </script>
</body>
</html>
