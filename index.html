<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>å‰ç±³å¨œÂ·å¥§ç±³åŠ  V15.2</title>
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#d4af37">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;900&family=Noto+Sans+TC:wght@300;700;900&display=swap');
        
        body { 
            background: #050507; color: #fff; font-family: 'Noto Sans TC', sans-serif;
            background-image: linear-gradient(rgba(5, 5, 7, 0.92), rgba(15, 15, 25, 0.96)), url('icon.png');
            background-size: cover; background-position: center; background-attachment: fixed;
            margin: 0; padding: 0; min-height: 100vh; overflow: hidden;
        }

        /* ğŸš€ æ ¸å¿ƒå„ªåŒ–ï¼šæ‰‹å‹¢æ»‘å‹•å®¹å™¨ */
        .swipe-container {
            display: flex; width: 300vw; height: 100vh;
            overflow-x: scroll; scroll-snap-type: x mandatory;
            scroll-behavior: smooth; -webkit-overflow-scrolling: touch;
        }
        .swipe-container::-webkit-scrollbar { display: none; }
        .page-content {
            width: 100vw; height: 100vh; scroll-snap-align: start;
            padding: 20px 15px 120px 15px; overflow-y: auto; flex-shrink: 0;
        }

        .font-tech { font-family: 'Orbitron', sans-serif; }
        .oracle-matrix { width: 100%; border-collapse: collapse; background: rgba(20, 20, 35, 0.98); border: 1px solid rgba(212, 175, 55, 0.3); border-radius: 10px; overflow: hidden; }
        .oracle-matrix td { padding: 10px 5px; border: 1px solid rgba(255,255,255,0.03); text-align: center; font-size: 11px; }

        .glass-card { background: rgba(0,0,0,0.7); border: 1px solid rgba(255,255,255,0.08); border-radius: 15px; }
        
        /* ğŸš¨ è­¦å ±ç³»çµ±ç‰¹æ•ˆ */
        @keyframes alert-glow { 0% { background: rgba(0,255,204,0); } 50% { background: rgba(0,255,204,0.15); } 100% { background: rgba(0,255,204,0); } }
        .attack-alert-long { animation: alert-glow 1s infinite; border: 2px solid #00ffcc !important; }
        
        /* åº•éƒ¨å°èˆª */
        .nav-fixed { position: fixed; bottom: 0; left: 0; right: 0; background: rgba(5,5,10,0.98); border-top: 1px solid rgba(212,175,55,0.4); padding: 12px 0; z-index: 2000; display: flex; }
        .nav-item { flex: 1; text-align: center; color: #444; font-size: 10px; font-weight: 900; transition: 0.3s; }
        .nav-item.active { color: #d4af37; text-shadow: 0 0 10px #d4af37; }

        .badge-long { background: #00ffcc; color: #000; padding: 2px 5px; border-radius: 4px; font-weight: 900; }
        .badge-short { background: #ff4d4d; color: #fff; padding: 2px 5px; border-radius: 4px; font-weight: 900; }
        .pinned-tag { background: rgba(212,175,55,0.2); color: #d4af37; border: 1px solid #d4af37; padding: 1px 4px; font-size: 8px; border-radius: 3px; }
    </style>
</head>
<body>

    <!-- æ»‘å‹•ä¸»é«” -->
    <div class="swipe-container" id="main-swiper">
        
        <!-- PAGE 1: ç¥åŸŸä¸»é  -->
        <div class="page-content" id="page-home">
            <div class="flex justify-between items-end mb-6 pt-4">
                <h1 class="text-xl font-black font-tech text-[#d4af37] italic">JIMINA OMEGA <span class="text-[10px] text-gray-500 font-normal">V15.2</span></h1>
                <div id="live-time" class="text-[10px] font-tech text-gray-500">SYNCING...</div>
            </div>

            <div class="glass-card p-5 mb-5 border-l-4 border-gold shadow-2xl">
                <h2 class="text-[10px] font-black text-gray-400 uppercase tracking-widest mb-4">Supreme Macro Pulse</h2>
                <div class="grid grid-cols-2 gap-6">
                    <div>
                        <p class="text-[9px] text-gray-500 font-bold uppercase mb-1">Bitcoin Dominance</p>
                        <h3 id="btc-price" class="text-2xl font-tech font-black text-white">$ --,---</h3>
                        <div class="flex items-center gap-2 mt-1">
                            <span id="btc-chg" class="text-xs font-bold">--%</span>
                            <span id="btc-vol" class="text-[9px] text-gray-500">--</span>
                        </div>
                    </div>
                    <div class="text-right border-l border-white/5 pl-4">
                        <p class="text-[9px] text-gray-500 font-bold uppercase mb-1">DXY Delta (Est.)</p>
                        <h3 id="dxy-val" class="text-2xl font-tech font-black text-blue-400">101.42</h3>
                        <p id="dxy-status" class="text-[9px] font-black tracking-tighter">--</p>
                    </div>
                </div>
            </div>

            <div class="oracle-matrix mb-5 shadow-2xl">
                <table style="width:100%">
                    <tr class="bg-[#1a1a2e] text-[10px] font-black text-gold"><td colspan="2">INSTITUTIONAL ORDER FLOW (V14.2)</td></tr>
                    <tr><td class="w-1/3 text-gray-500">ä¸»åŠ›ç•¶å‰è·¯å¾‘</td><td id="inst-action" class="font-bold">â— æƒæä¸­</td></tr>
                    <tr><td class="text-gray-500">æ©Ÿæ§‹å¹³è¡¡åƒ¹æ ¼</td><td id="inst-ob" class="font-tech text-blue-400 font-bold text-sm">--</td></tr>
                    <tr><td class="text-gray-500">å¸‚å ´æƒ…ç·’æ¥µé™</td><td id="inst-bias" class="font-bold">åµæ¸¬ä¸­...</td></tr>
                </table>
            </div>

            <div class="glass-card p-4 border-t-2 border-red-500 italic text-[11px] text-gray-300 leading-relaxed">
                <i class="fas fa-bullhorn mr-2 text-gold"></i>
                <span id="oracle-msg">ã€Œé ˜ä¸»ï¼Œç¥åŸŸçµ‚ç«¯å·²åŒæ­¥ã€‚å·¦å³æ»‘å‹•åˆ‡æ›æˆ°å€ã€‚ã€</span>
            </div>
        </div>

        <!-- PAGE 2: å…¨æ¯é›·é” -->
        <div class="page-content" id="page-radar">
            <h2 class="text-[10px] font-black text-gray-500 tracking-[0.4em] uppercase mb-4 pt-4">Global Asset Monitor</h2>
            <div id="mainstream-radar" class="space-y-3 mb-6">
                <!-- ä¸»æµå¹£ç¨®å›ºå®šç½®é ‚ -->
            </div>
            <div class="border-t border-white/10 my-4 pt-2">
                <p class="text-[9px] text-gray-600 font-bold uppercase mb-3">All Altcoin Signals</p>
                <div id="alt-radar-list" class="space-y-2">
                    <!-- å…¨å¸‚å ´å±±å¯¨å¹£ç”±å¼·åˆ°å¼± -->
                </div>
            </div>
        </div>

        <!-- PAGE 3: å¥§ç±³åŠ çµæ®º -->
        <div class="page-content" id="page-signals">
            <h2 class="text-[10px] font-black text-[#ff4d4d] tracking-[0.4em] uppercase mb-4 text-center pt-4">Execution Protocol: Omega</h2>
            <div class="oracle-matrix overflow-hidden shadow-2xl mb-4">
                <table style="width:100%" id="hunting-table">
                    <thead class="bg-[#2d0a3d] text-[9px] font-black">
                        <tr><td>å¹£ç¨®</td><td>RS</td><td>æŒ‡ä»¤</td><td>æ­¢æä½</td></tr>
                    </thead>
                    <tbody id="signal-body">
                        <!-- å¯¦æ™‚ç²¾ç¢ºè¨Šè™Ÿ -->
                    </tbody>
                </table>
            </div>
            <div id="tactical-alert-log" class="space-y-2">
                <!-- é€™è£¡é¡¯ç¤ºæœ€è¿‘è§¸ç™¼çš„çœŸå¯¦é€²æ”»è­¦å ± -->
            </div>
        </div>

    </div>

    <!-- åº•éƒ¨å°èˆª (åŒæ­¥æ»‘å‹•ç‹€æ…‹) -->
    <nav class="nav-fixed" id="footer-nav">
        <div class="nav-item active" data-page="0"><i class="fas fa-chess-rook text-lg block"></i>ç¥åŸŸä¸»é </div>
        <div class="nav-item" data-page="1"><i class="fas fa-satellite text-lg block"></i>å…¨æ¯é›·é”</div>
        <div class="nav-item" data-page="2"><i class="fas fa-crosshairs text-lg block"></i>å¥§ç±³åŠ çµæ®º</div>
    </nav>

    <script>
        const API_TICKER = "https://api.binance.com/api/v3/ticker/24hr";
        const MAINSTREAM = ['BTCUSDT', 'ETHUSDT', 'SOLUSDT', 'BNBUSDT', 'UNIUSDT'];
        
        // --- 1. æ‰‹å‹¢æ»‘å‹•èˆ‡å°èˆªé€£å‹• ---
        const swiper = document.getElementById('main-swiper');
        const navItems = document.querySelectorAll('.nav-item');

        swiper.addEventListener('scroll', () => {
            const pageIndex = Math.round(swiper.scrollLeft / window.innerWidth);
            navItems.forEach((item, idx) => {
                item.classList.toggle('active', idx === pageIndex);
            });
        });

        // --- 2. æ ¸å¿ƒæ•¸æ“šé‹ç®—å¼•æ“ ---
        async function fetchAllData() {
            try {
                const res = await fetch(API_TICKER);
                const data = await res.json();
                const usdtPairs = data.filter(i => i.symbol.endsWith('USDT') && !i.symbol.includes('UP') && !i.symbol.includes('DOWN'));
                
                updateMacro(usdtPairs.find(i => i.symbol === "BTCUSDT"));
                updateRadar(usdtPairs);
                updateHunting(usdtPairs);
            } catch (e) { console.log("ç¥åŸŸå¹²æ“¾..."); }
        }

        function updateMacro(btc) {
            const bPrice = parseFloat(btc.lastPrice);
            const bChg = parseFloat(btc.priceChangePercent);
            document.getElementById('btc-price').innerText = '$' + bPrice.toLocaleString();
            document.getElementById('btc-chg').innerText = bChg + '%';
            document.getElementById('btc-chg').style.color = bChg > 0 ? '#00ffcc' : '#ff4d4d';
            document.getElementById('btc-vol').innerText = (parseFloat(btc.quoteVolume)/1e9).toFixed(2) + "B";
            
            document.getElementById('dxy-val').innerText = (101.42 + (bChg * -0.02)).toFixed(2);
            document.getElementById('dxy-status').innerText = bChg > 0 ? "â–¼ WEAKENING" : "â–² STRENGTHENING";
            document.getElementById('inst-ob').innerText = (bPrice * 0.991).toFixed(0);
            document.getElementById('live-time').innerText = new Date().toLocaleTimeString();
        }

        function updateRadar(data) {
            const mRadar = document.getElementById('mainstream-radar');
            const aRadar = document.getElementById('alt-radar-list');
            mRadar.innerHTML = ''; aRadar.innerHTML = '';

            // åˆ†é›¢ä¸»æµèˆ‡å±±å¯¨
            const mainstreamData = data.filter(i => MAINSTREAM.includes(i.symbol));
            const altData = data.filter(i => !MAINSTREAM.includes(i.symbol)).sort((a,b) => parseFloat(b.priceChangePercent) - parseFloat(a.priceChangePercent));

            const renderCoin = (coin, isMain) => {
                const price = parseFloat(coin.lastPrice);
                const chg = parseFloat(coin.priceChangePercent);
                const rs = Math.round(70 + (chg * 1.5));
                return `
                    <div class="glass-card p-3 flex justify-between items-center border-l-2 ${chg > 0 ? 'border-green-500' : 'border-red-500'} ${rs > 90 ? 'attack-alert-long' : ''}">
                        <div>
                            <span class="font-black text-sm">${coin.symbol.replace('USDT','')} ${isMain ? '<span class="pinned-tag">MAIN</span>' : ''}</span>
                            <p class="text-[9px] text-gray-500 font-tech uppercase">RS Score: ${rs} | Stage ${chg > 0 ? '2' : '3'}</p>
                        </div>
                        <div class="text-right">
                            <p class="font-tech font-bold text-xs">$${price < 1 ? price.toFixed(5) : price.toLocaleString()}</p>
                            <p class="text-[9px] font-black ${chg > 0 ? 'text-green-400' : 'text-red-400'}">${chg}%</p>
                        </div>
                    </div>
                `;
            };

            mainstreamData.forEach(c => mRadar.innerHTML += renderCoin(c, true));
            altData.forEach(c => aRadar.innerHTML += renderCoin(c, false));
        }

        function updateHunting(data) {
            const body = document.getElementById('signal-body');
            const alertLog = document.getElementById('tactical-alert-log');
            body.innerHTML = ''; 
            
            const sorted = data.sort((a,b) => {
                // ä¸»æµå¹£æ°¸é å„ªå…ˆæ–¼è¡¨æ ¼é ‚éƒ¨
                const aMain = MAINSTREAM.includes(a.symbol) ? 1 : 0;
                const bMain = MAINSTREAM.includes(b.symbol) ? 1 : 0;
                if(aMain !== bMain) return bMain - aMain;
                return parseFloat(b.priceChangePercent) - parseFloat(a.priceChangePercent);
            });

            sorted.forEach(coin => {
                const chg = parseFloat(coin.priceChangePercent);
                const rs = Math.round(70 + (chg * 1.5));
                const price = parseFloat(coin.lastPrice);
                
                if(rs >= 88 || rs <= 62 || MAINSTREAM.includes(coin.symbol)) {
                    let cmd = rs >= 88 ? '<span class="badge-long">STRONG LONG</span>' : 
                              rs <= 62 ? '<span class="badge-short">STRONG SHORT</span>' : 
                              '<span class="text-gray-500">NEUTRAL</span>';
                    
                    if(rs >= 88 && !MAINSTREAM.includes(coin.symbol)) triggerAttackAlert(coin.symbol.replace('USDT',''));

                    body.innerHTML += `
                        <tr>
                            <td class="font-black ${MAINSTREAM.includes(coin.symbol) ? 'text-gold' : ''}">${coin.symbol.replace('USDT','')}</td>
                            <td class="font-tech">${rs}</td>
                            <td>${cmd}</td>
                            <td class="text-gray-500 font-tech">${(price * (rs >= 88 ? 0.97 : 1.03)).toFixed(2)}</td>
                        </tr>
                    `;
                }
            });
        }

        // --- 3. è­¦è¨Šæé†’ç³»çµ± ---
        function triggerAttackAlert(name) {
            const msg = document.getElementById('oracle-msg');
            msg.innerText = `ã€Œè­¦å ±ï¼åµæ¸¬åˆ°éƒ¨éšŠ ${name} æ­£åœ¨ç™¼èµ·çœŸå¯¦é€²æ”»ï¼RS æŒ‡æ•¸å·²é”æ¨™ã€‚ã€`;
            msg.classList.add('text-green-400', 'font-black');
            if (navigator.vibrate) navigator.vibrate([100, 50, 100]); // éœ‡å‹•æé†’
        }

        setInterval(fetchAllData, 4000);
        fetchAllData();
    </script>
</body>
</html>
