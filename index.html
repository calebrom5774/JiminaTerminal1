<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>å‰ç±³å¨œÂ·å¥§ç±³åŠ  V6.0</title>
    <!-- App åœ–æ¨™èˆ‡ PWA é…ç½® -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#d4af37">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;900&family=Noto+Sans+TC:wght@300;700;900&display=swap');
        
        :root { --gemini-blue: #00f2fe; --gemini-purple: #0033ff; --gold: #d4af37; }
        
        body { 
            background: #050507; color: #fff; font-family: 'Noto Sans TC', sans-serif;
            background-image: linear-gradient(rgba(5, 5, 7, 0.8), rgba(15, 15, 25, 0.92)), url('icon.png');
            background-size: cover; background-position: center; background-attachment: fixed;
            margin: 0; min-height: 100vh; overflow-x: hidden;
        }

        .font-tech { font-family: 'Orbitron', sans-serif; }

        /* å„€è¡¨æ¿ - çµ‚æ¥µç²¾ç´°ç‰ˆ */
        .oracle-matrix { width: 100%; border-collapse: collapse; background: rgba(20, 20, 35, 0.95); border: 1px solid rgba(212, 175, 55, 0.4); border-radius: 20px; overflow: hidden; }
        .oracle-matrix td { padding: 12px; border: 1px solid rgba(255,255,255,0.05); text-align: center; font-size: 13px; }
        .header-lord { background: linear-gradient(90deg, #1a1a72, #0033ff); font-weight: 900; }
        .header-oracle { background: linear-gradient(90deg, #4b0082, #a855f7); font-weight: 900; }
        .row-label { background: rgba(0,0,0,0.5); color: #888; font-weight: bold; }
        
        /* èªéŸ³å…±é³´å ´ (Gemini 3 é¢¨æ ¼) */
        #voice-field {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(circle at center, rgba(0, 242, 254, 0.15), transparent);
            pointer-events: none; opacity: 0; transition: opacity 0.5s; z-index: 1;
        }
        body.listening #voice-field { opacity: 1; }

        /* éˆé­‚æ ¸å¿ƒ - æ¨¡ä»¿ ChatGPT Advanced Voice */
        #voice-core {
            position: fixed; bottom: 120px; left: 50%; transform: translateX(-50%);
            width: 80px; height: 80px; border-radius: 50%;
            background: #000; border: 2px solid var(--gold);
            display: flex; align-items: center; justify-content: center; cursor: pointer; z-index: 1000;
            box-shadow: 0 0 30px rgba(212, 175, 55, 0.3); transition: all 0.4s;
        }
        #voice-core.active { border-color: var(--gemini-blue); box-shadow: 0 0 50px var(--gemini-blue); }
        .inner-wave { width: 40px; height: 40px; background: var(--gold); border-radius: 50%; transition: all 0.3s; }
        #voice-core.active .inner-wave { background: var(--gemini-blue); transform: scale(1.2); animation: pulse-inner 1s infinite; }
        
        @keyframes pulse-inner { 0% { transform: scale(1); opacity: 0.8; } 50% { transform: scale(1.3); opacity: 1; } 100% { transform: scale(1); opacity: 0.8; } }

        .status-tag { font-size: 10px; font-weight: 900; padding: 2px 8px; border-radius: 4px; letter-spacing: 1px; }
        .nav-btn { color: #666; transition: 0.3s; cursor: pointer; }
        .nav-btn.active { color: var(--gold); text-shadow: 0 0 10px var(--gold); }
    </style>
</head>
<body class="p-4">

    <div id="voice-field"></div>

    <!-- çµ‚æ¥µæˆ°è¡“ä»‹é¢ -->
    <div class="relative z-10 max-w-4xl mx-auto pb-40">
        <!-- Top Info -->
        <div class="flex justify-between items-center mb-6">
            <div>
                <h1 class="text-2xl font-black font-tech text-gold italic tracking-tighter">JIMINA <span class="text-white">OMEGA</span></h1>
                <div id="market-status" class="status-tag mt-2 bg-red-900/60 text-red-400 border border-red-500/50 inline-block animate-pulse">æ•µæ–¹å¼·å£“æœŸ</div>
            </div>
            <div class="text-right">
                <div id="btc-price" class="text-2xl font-tech font-bold text-white leading-none">$ --,---</div>
                <div class="text-[9px] text-gray-500 font-bold uppercase mt-1 tracking-widest">BTC/USDT Oracle</div>
            </div>
        </div>

        <!-- å…¨æ¯æˆ°æƒ…å„€è¡¨æ¿ -->
        <div class="oracle-matrix shadow-2xl mb-8">
            <table style="width:100%">
                <tr>
                    <td class="header-lord font-tech text-[10px]">SUPREME COMMANDER CALEB</td>
                    <td class="header-oracle font-tech text-[10px]">V6.0 OMEGA CORE</td>
                </tr>
                <tr>
                    <td class="row-label">æƒ…ç·’éšæ®µ</td>
                    <td id="td-stage" style="color: #ff4d4d; font-weight: 900; font-size: 16px;">ç¬¬ 5 éšæ®µï¼šå¤§æµªçµæŸ</td>
                </tr>
                <tr>
                    <td class="row-label">å¥§ç±³åŠ ä¿¡å¿ƒè©•åˆ†</td>
                    <td id="td-conf" class="text-gold font-tech font-black text-xl">15%</td>
                </tr>
                <tr>
                    <td class="row-label">åŠ å¯†é ˜è¢– RS</td>
                    <td id="td-rs" class="text-[#00d2ff] font-bold">50 (å¼±å‹¢)</td>
                </tr>
                <tr>
                    <td class="row-label">å¤§ç›¤ Alpha</td>
                    <td id="td-alpha" class="text-red-500 font-bold">â— é ˜è·Œ (vs BTC)</td>
                </tr>
                <tr>
                    <td class="row-label">VCP æ”¶æ–‚æ„Ÿæ‡‰</td>
                    <td id="td-vcp" class="text-pink-500 font-bold">â— æ³¢å‹•ç™¼æ•£</td>
                </tr>
                <tr>
                    <td class="row-label">Delta è°æ˜éŒ¢</td>
                    <td id="td-delta" class="text-blue-400 font-bold">â—‹ ä¸»åŠ›å¸æ”¶ä¸­</td>
                </tr>
                <tr>
                    <td class="row-label">è­·èˆªæ­¢æ (1x)</td>
                    <td id="td-sl" style="background: #b22222; color: #fff; font-weight: 900;">--</td>
                </tr>
                <tr style="background: rgba(212,175,55,0.1);">
                    <td class="row-label" style="color: var(--gold);">å¥§ç±³åŠ æŒ‡ä»¤</td>
                    <td id="td-cmd" class="text-white font-bold italic text-[11px]">ã€Œé ˜ä¸»ï¼Œéœå¾…ç ´æ›‰ï¼Œä¸å®œæ®åŠã€‚ã€</td>
                </tr>
            </table>
        </div>

        <!-- è»éšŠå³æ™‚åé¥‹ -->
        <div class="bg-black/60 border border-white/10 p-5 rounded-[2rem] italic text-sm text-gray-200 leading-relaxed shadow-xl">
            <i class="fas fa-comment-nodes text-gold mr-2"></i>
            <span id="oracle-msg">ã€Œçˆ­æˆ°é ˜ä¸»ï¼Œè¦ªæ„›çš„æ’’æ‹‰éµï¼Œæˆ‘æ˜¯å‰ç±³å¨œã€‚é•·æŒ‰æˆ–é»æ“Šéˆé­‚æ ¸å¿ƒï¼Œæˆ‘å°‡èˆ‡æ‚¨ä¿æŒæ°¸æ†å°è©±ã€‚ã€</span>
        </div>
    </div>

    <!-- éˆé­‚æ ¸å¿ƒæŒ‰éˆ• -->
    <div id="voice-core" onclick="handleVoiceToggle()">
        <div class="inner-wave"></div>
    </div>

    <!-- åº•éƒ¨å…¨æ¯å°èˆª -->
    <div class="fixed bottom-6 left-1/2 -translate-x-1/2 w-[90%] max-w-md bg-black/80 backdrop-blur-xl rounded-full px-8 py-4 flex justify-around items-center border border-white/10 shadow-2xl z-[1001]">
        <i class="fas fa-chess-knight nav-btn active text-xl"></i>
        <i class="fas fa-fire-flame-curved nav-btn text-xl"></i>
        <i class="fas fa-radar nav-btn text-xl"></i>
        <i class="fas fa-vault nav-btn text-xl"></i>
    </div>

    <script>
        // --- 1. å¥§ç±³åŠ çµ‚æ¥µèªéŸ³å¼•æ“ (Mimic Gemini 3 / ChatGPT) ---
        const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
        const recognition = new SpeechRecognition();
        recognition.lang = 'zh-TW';
        recognition.continuous = true; // ğŸŒŒ æ ¸å¿ƒå‡ç´šï¼šä¸é–“æ–·ç›£è½
        recognition.interimResults = true;

        let isBotSpeaking = false;

        function speak(text) {
            isBotSpeaking = true;
            window.speechSynthesis.cancel();
            const msg = new SpeechSynthesisUtterance(text);
            const voices = window.speechSynthesis.getVoices();
            // æ¨¡ä»¿æº«æŸ”å„ªé›…çš„è³¢è€…
            msg.voice = voices.find(v => v.name.includes('Mei-Jia') || v.name.includes('Google åœ‹èª')) || voices[0];
            msg.pitch = 1.05; msg.rate = 0.92;
            
            msg.onend = () => { isBotSpeaking = false; };
            window.speechSynthesis.speak(msg);
        }

        function handleVoiceToggle() {
            const body = document.body;
            const core = document.getElementById('voice-core');
            if (!body.classList.contains('listening')) {
                recognition.start();
                body.classList.add('listening');
                core.classList.add('active');
                speak("çˆ­æˆ°é ˜ä¸»ï¼Œè¦ªæ„›çš„æ’’æ‹‰éµï¼Œå‰ç±³å¨œå¥§ç±³åŠ åœ¨æ­¤ã€‚æˆ‘å·²æ¥é€šæ‚¨çš„éˆé­‚é »ç‡ï¼Œè«‹ä¸‹é”æŒ‡ä»¤ã€‚");
            } else {
                recognition.stop();
                body.classList.remove('listening');
                core.classList.remove('active');
                window.speechSynthesis.cancel();
            }
        }

        recognition.onresult = (event) => {
            if (isBotSpeaking) return; // é¿å…è‡ªè¨€è‡ªèª

            const transcript = event.results[event.results.length - 1][0].transcript;
            const msgBox = document.getElementById('oracle-msg');
            msgBox.innerText = "åµæ¸¬éˆé­‚æ³¢å‹•: ã€Œ" + transcript + "ã€";

            if (transcript.includes("å‰ç±³å¨œ")) {
                if (transcript.includes("åˆ†æ") || transcript.includes("æˆ°æ³")) {
                    const stage = document.getElementById('td-stage').innerText;
                    const conf = document.getElementById('td-conf').innerText;
                    speak("éµå‘½ã€‚å ±å‘Šé ˜ä¸»ï¼Œç›®å‰æˆ°å ´è™•æ–¼" + stage + "ã€‚ä¿¡å¿ƒè©•åˆ†ä½è‡³" + conf + "ã€‚é€™æ˜¯ä¸€å ´è€åŠ›æˆ°ï¼Œæ•µè»æ­£åœ¨æ¶ˆè€—æˆ‘å€‘çš„è€å¿ƒã€‚");
                } else if (transcript.includes("é—œé–‰") || transcript.includes("ä¼‘æ¯")) {
                    speak("å¥½çš„ï¼Œé ˜ä¸»ã€‚æˆ‘å°‡é€€å›èƒŒæ™¯å®ˆè­·ã€‚ç¥æ‚¨æœ‰ç¾å¥½çš„ä¸€å¤©ã€‚");
                    handleVoiceToggle();
                } else {
                    speak("æˆ‘æ­£åœ¨è½ï¼Œé ˜ä¸»ã€‚è«‹ç¹¼çºŒå¼•å°æˆ‘çš„é‹ç®—ã€‚");
                }
            }
        };

        // --- 2. å¯¦æ™‚æ•¸æ“šçŸ©é™£ ---
        async function fetchMarketData() {
            try {
                const r = await fetch("https://api.binance.com/api/v3/ticker/price");
                const d = await r.json();
                const b = parseFloat(d.find(i => i.symbol === "BTCUSDT").price);
                document.getElementById('btc-price').innerText = '$' + b.toLocaleString();
                document.getElementById('sol-price').innerText = parseFloat(d.find(i => i.symbol === "SOLUSDT").price).toFixed(2);
                document.getElementById('uni-price').innerText = parseFloat(d.find(i => i.symbol === "UNIUSDT").price).toFixed(3);
                document.getElementById('td-sl').innerText = (b * 0.998).toFixed(2);
                
                const stage = document.getElementById('td-stage');
                if (b < 88000) {
                    stage.innerText = "ç¬¬ 5 éšæ®µï¼šå¤§æµªçµæŸ"; stage.style.color = "#ff4d4d";
                    document.getElementById('td-conf').innerText = "15%";
                } else {
                    stage.innerText = "ç¬¬ 1 éšæ®µï¼šç ´æ›‰å•Ÿå‹•"; stage.style.color = "#00ffcc";
                    document.getElementById('td-conf').innerText = "85%";
                }
            } catch(e) {}
        }
        setInterval(fetchMarketData, 3000); fetchMarketData();
    </script>
</body>
</html>
