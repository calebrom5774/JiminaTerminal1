<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>å‰ç±³å¨œÂ·å¥§ç±³åŠ ï¼šç¥åŸŸæˆ°ç•¥çµ‚ç«¯ V15.1</title>
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#d4af37">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;900&family=Noto+Sans+TC:wght@300;700;900&display=swap');
        
        body { 
            background: #050507; color: #fff; font-family: 'Noto Sans TC', sans-serif;
            background-image: linear-gradient(rgba(5, 5, 7, 0.9), rgba(15, 15, 25, 0.96)), url('icon.png');
            background-size: cover; background-position: center; background-attachment: fixed;
            margin: 0; min-height: 100vh; overflow-x: hidden;
        }

        .font-tech { font-family: 'Orbitron', sans-serif; }
        .oracle-matrix { width: 100%; border-collapse: collapse; background: rgba(20, 20, 35, 0.96); border: 1px solid rgba(212, 175, 55, 0.3); border-radius: 10px; overflow: hidden; }
        .oracle-matrix th, .oracle-matrix td { padding: 8px 4px; border: 1px solid rgba(255,255,255,0.03); text-align: center; font-size: 11px; }
        
        .tab-content { display: none; padding-bottom: 80px; }
        .tab-content.active { display: block; animation: fadeIn 0.3s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        .glass-card { background: rgba(25, 25, 35, 0.8); border: 1px solid rgba(255,255,255,0.05); border-radius: 12px; }
        .text-gold { color: #d4af37; }
        .bg-navy { background: #0a0a20; }
        .bg-purple-dark { background: #2a0a3a; }

        /* åº•éƒ¨å°èˆª */
        .nav-fixed { position: fixed; bottom: 0; left: 0; right: 0; background: rgba(5,5,10,0.98); border-top: 1px solid rgba(212,175,55,0.4); padding: 12px 0; z-index: 1000; display: flex; }
        .nav-item { flex: 1; text-align: center; color: #555; font-size: 10px; font-weight: 900; }
        .nav-item.active { color: #d4af37; text-shadow: 0 0 10px #d4af37; }

        /* æ¨™ç±¤æ¨£å¼ */
        .badge-long { background: #004d40; color: #00ffcc; padding: 2px 4px; border-radius: 3px; font-weight: 900; }
        .badge-short { background: #4a141c; color: #ff5252; padding: 2px 4px; border-radius: 3px; font-weight: 900; }
        .badge-exit { background: #333; color: #eee; padding: 2px 4px; border-radius: 3px; }
    </style>
</head>
<body>

    <div class="p-3 max-w-5xl mx-auto">
        <!-- TOP HEADER -->
        <div class="flex justify-between items-end mb-4 pt-4">
            <div>
                <h1 class="text-lg font-black font-tech text-[#d4af37] italic">JIMINA OMEGA</h1>
                <p id="market-sentiment" class="text-[9px] font-bold text-red-500 tracking-tighter uppercase">åµæ¸¬ä¸­...</p>
            </div>
            <div class="text-right">
                <span id="live-time" class="text-[10px] font-tech text-gray-500">00:00:00</span>
            </div>
        </div>

        <!-- TAB 1: ç¥åŸŸä¸»é  (MACD/DXY/INSTITUTIONAL) -->
        <div id="tab-home" class="tab-content active">
            <div class="glass-card p-4 mb-4 border-l-4 border-[#d4af37]">
                <h2 class="text-[10px] font-black text-gray-500 uppercase tracking-widest mb-3">BTC Macro Full Analysis</h2>
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <p class="text-[9px] text-gray-500 font-bold uppercase">BTC Price</p>
                        <h3 id="btc-price" class="text-2xl font-tech font-black text-white">$ --,---</h3>
                        <div class="flex gap-2 mt-1">
                            <span id="btc-chg" class="text-[10px] font-bold">--%</span>
                            <span id="btc-vol" class="text-[10px] text-gray-400 font-tech">Vol: --</span>
                        </div>
                    </div>
                    <div class="text-right border-l border-white/5 pl-4">
                        <p class="text-[9px] text-gray-500 font-bold uppercase">DXY Index (Live Est.)</p>
                        <h3 id="dxy-val" class="text-2xl font-tech font-black text-blue-400">101.42</h3>
                        <p id="dxy-status" class="text-[9px] font-black">--</p>
                    </div>
                </div>
                <div class="grid grid-cols-2 gap-2 mt-4 pt-4 border-t border-white/5">
                    <div><p class="text-[8px] text-gray-500 uppercase">24h High</p><p id="btc-high" class="text-xs font-tech">--</p></div>
                    <div class="text-right"><p class="text-[8px] text-gray-500 uppercase">24h Low</p><p id="btc-low" class="text-xs font-tech">--</p></div>
                </div>
            </div>

            <div class="oracle-matrix shadow-2xl mb-4">
                <table style="width:100%">
                    <tr class="bg-navy text-[10px] font-black"><td colspan="2">æ©Ÿæ§‹è¨‚å–®æµå³æ™‚è¨ºæ–· (ORDER FLOW)</td></tr>
                    <tr><td class="w-1/3 row-label text-gray-500">ä¸»åŠ›ç•¶å‰å‹•ä½œ</td><td id="inst-action" class="font-bold text-sm">--</td></tr>
                    <tr><td class="text-gray-500">ä¸»è¦æ”¯æ’å€å¡Š (OB)</td><td id="inst-ob" class="font-tech text-blue-400">--</td></tr>
                    <tr><td class="text-gray-500">å¤§æˆ¶æŒå€‰æ„åœ–</td><td id="inst-bias" class="font-bold">â— åµæ¸¬ä¸­</td></tr>
                </table>
            </div>

            <div class="glass-card p-4 border-t-2 border-red-500/50 italic text-xs text-gray-300 leading-relaxed shadow-lg">
                <i class="fas fa-quote-left mr-2 text-red-500"></i>
                <span id="oracle-msg">ã€Œé ˜ä¸»ï¼Œæ­£åœ¨å°é½Š 2026 æˆ°ç•¥é »ç‡...ã€</span>
            </div>
        </div>

        <!-- TAB 2: å…¨æ¯é›·é” (ALL CRYPTO LIST) -->
        <div id="tab-radar" class="tab-content">
            <div class="flex justify-between items-center mb-4">
                <h2 class="text-[10px] font-black text-gray-500 tracking-[0.3em] uppercase">All Assets Real-time Radar</h2>
                <span id="asset-count" class="text-[9px] text-[#d4af37] font-tech">Found: --</span>
            </div>
            <div id="full-radar-list" class="space-y-2">
                <!-- è‡ªå‹•æŠ“å–å¹£å®‰æ‰€æœ‰ USDT äº¤æ˜“å°ä¸¦æ’åº -->
                <div class="text-center py-10 opacity-50 text-xs">ç¥åŸŸæ­£åœ¨æ©«æƒå…¨å¹£ç¨®å¸‚å ´...</div>
            </div>
        </div>

        <!-- TAB 3: å¥§ç±³åŠ çµæ®º (ADVANCED SIGNALS) -->
        <div id="tab-signals" class="tab-content">
            <h2 class="text-[10px] font-black text-gray-500 tracking-[0.3em] uppercase mb-4 text-center">Executive Hunting List</h2>
            <div class="oracle-matrix overflow-hidden shadow-2xl">
                <table style="width:100%">
                    <thead class="bg-purple-dark text-[9px] font-black">
                        <tr><td>å¹£ç¨®</td><td>RS</td><td>æŒ‡ä»¤</td><td>æ­¢æ/é˜²ç¦¦</td></tr>
                    </thead>
                    <tbody id="hunting-table">
                        <!-- åŸºæ–¼ V14.2 ä¸‰é‡ç¢ºèªçš„å¯¦æ™‚æŒ‡ä»¤ -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- åº•éƒ¨å°èˆª -->
    <nav class="nav-fixed">
        <div class="nav-item active" onclick="switchTab('home', this)"><i class="fas fa-chess-rook text-lg block"></i>ç¥åŸŸä¸»é </div>
        <div class="nav-item" onclick="switchTab('radar', this)"><i class="fas fa-satellite text-lg block"></i>å…¨æ¯é›·é”</div>
        <div class="nav-item" onclick="switchTab('signals', this)"><i class="fas fa-bolt text-lg block"></i>å¥§ç±³åŠ çµæ®º</div>
    </nav>

    <script>
        const BINANCE_TICKER = "https://api.binance.com/api/v3/ticker/24hr";
        let allMarketData = [];

        function switchTab(tabId, el) {
            document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
            document.getElementById('tab-' + tabId).classList.add('active');
            el.classList.add('active');
        }

        async function fetchAllMarketData() {
            try {
                const response = await fetch(BINANCE_TICKER);
                const data = await response.json();
                
                // åªéæ¿¾ USDT äº¤æ˜“å°ï¼Œä¸”æ’é™¤æ§“æ¡¿å¹£
                allMarketData = data.filter(i => i.symbol.endsWith('USDT') && !i.symbol.includes('UP') && !i.symbol.includes('DOWN'));
                
                updateUI();
            } catch (e) { console.log("ç¥åŸŸå¹²æ“¾..."); }
        }

        function updateUI() {
            if (allMarketData.length === 0) return;

            const btc = allMarketData.find(i => i.symbol === "BTCUSDT");
            const btcPrice = parseFloat(btc.lastPrice);
            const btcChg = parseFloat(btc.priceChangePercent);

            // 1. ç¥åŸŸä¸»é æ›´æ–°
            document.getElementById('btc-price').innerText = '$' + btcPrice.toLocaleString();
            document.getElementById('btc-chg').innerText = btcChg + '%';
            document.getElementById('btc-chg').style.color = btcChg > 0 ? '#00ffcc' : '#ff4d4d';
            document.getElementById('btc-vol').innerText = "Vol: " + (parseFloat(btc.quoteVolume) / 1000000000).toFixed(2) + "B";
            document.getElementById('btc-high').innerText = parseFloat(btc.highPrice).toLocaleString();
            document.getElementById('btc-low').innerText = parseFloat(btc.lowPrice).toLocaleString();
            
            // DXY æ¨¡æ“¬
            const dxyEst = 101.42 + (btcChg * -0.01);
            document.getElementById('dxy-val').innerText = dxyEst.toFixed(2);
            document.getElementById('dxy-status').innerText = btcChg > 0 ? "â–¼ BEARISH PRESSURE" : "â–² BULLISH STRENGTH";
            document.getElementById('dxy-status').style.color = btcChg > 0 ? "#ff4d4d" : "#00ffcc";

            // æ©Ÿæ§‹è¡Œç‚º
            document.getElementById('inst-action').innerText = btcPrice > parseFloat(btc.openPrice) ? "ğŸ”¥ å¼·åŠ›å¸ç±Œ" : "ğŸš¨ è­·ç›¤/æ›å–®";
            document.getElementById('inst-action').style.color = btcPrice > parseFloat(btc.openPrice) ? "#00ffcc" : "#ffaa00";
            document.getElementById('inst-ob').innerText = (btcPrice * 0.992).toFixed(0);
            document.getElementById('inst-bias').innerText = btcChg < -2 ? "ğŸ’€ çµæ®ºæ§“æ¡¿" : "ğŸ›¡ï¸ çµæ§‹åŠ å›º";

            const sentiment = document.getElementById('market-sentiment');
            sentiment.innerText = btcChg < -2 ? "âš ï¸ æ•µæ–¹æ¸…ç®—æœŸ" : btcChg > 2 ? "ğŸš€ æˆ‘è»è¡é‹’æœŸ" : "âŒ› æ©«ç›¤åšå¼ˆæœŸ";

            // 2. å…¨æ¯é›·é”æ›´æ–° (é¡¯ç¤ºæ‰€æœ‰å¹£ç¨®ï¼ŒæŒ‰å¼·å¼±æ’åº)
            const radarList = document.getElementById('full-radar-list');
            document.getElementById('asset-count').innerText = `Found: ${allMarketData.length}`;
            
            // æ’åºé‚è¼¯ï¼šæŒ‰æ¼²è·Œå¹…æ¨¡æ“¬ RS æŒ‡æ•¸æ’åº
            const sortedData = [...allMarketData].sort((a, b) => parseFloat(b.priceChangePercent) - parseFloat(a.priceChangePercent));
            
            radarList.innerHTML = '';
            sortedData.forEach(coin => {
                const price = parseFloat(coin.lastPrice);
                const chg = parseFloat(coin.priceChangePercent);
                const rsScore = Math.round(70 + (chg * 1.5));
                const stage = chg > 1.5 ? "2:ä¸»å‡" : chg < -1.5 ? "5:è¡°é€€" : "3:æ´—ç›¤";

                radarList.innerHTML += `
                    <div class="glass-card p-3 flex justify-between items-center border-l-2 ${chg > 0 ? 'border-green-500' : 'border-red-500'}">
                        <div class="flex flex-col">
                            <span class="font-black text-xs">${coin.symbol.replace('USDT','')} <span class="text-[8px] text-gray-500 font-tech ml-1">RS: ${rsScore}</span></span>
                            <span class="text-[8px] text-gray-400 font-bold uppercase tracking-tighter">Stage ${stage}</span>
                        </div>
                        <div class="text-right">
                            <p class="font-tech font-bold text-xs">$${price < 1 ? price.toFixed(6) : price.toLocaleString()}</p>
                            <p class="text-[9px] font-black ${chg > 0 ? 'text-green-400' : 'text-red-400'}">${chg > 0 ? '+' : ''}${chg}%</p>
                        </div>
                    </div>
                `;
            });

            // 3. å¥§ç±³åŠ çµæ®º (ç²¾ç¢ºä¿¡è™Ÿ)
            const huntingTable = document.getElementById('hunting-table');
            huntingTable.innerHTML = '';
            
            sortedData.forEach(coin => {
                const price = parseFloat(coin.lastPrice);
                const chg = parseFloat(coin.priceChangePercent);
                const rsScore = Math.round(70 + (chg * 1.5));
                
                let signal = "";
                let stopLoss = "";

                if (rsScore >= 88) {
                    signal = '<span class="badge-long">STRONG LONG</span>';
                    stopLoss = (price * 0.97).toFixed(price < 1 ? 6 : 2);
                } else if (rsScore <= 62) {
                    signal = '<span class="badge-short">STRONG SHORT</span>';
                    stopLoss = (price * 1.03).toFixed(price < 1 ? 6 : 2);
                } else if (rsScore > 80 && rsScore < 88) {
                    signal = '<span class="text-green-600 font-bold text-[9px]">HOLD LONG</span>';
                    stopLoss = "PROTECT";
                } else {
                    return; // ä¿¡å¿ƒä¸è¶³ä¸äºˆé¡¯ç¤ºï¼Œä¿æŒæ¸…å–®ç²¾ç¢º
                }

                huntingTable.innerHTML += `
                    <tr>
                        <td class="font-black">${coin.symbol.replace('USDT','')}</td>
                        <td class="font-tech ${rsScore > 75 ? 'text-green-400' : 'text-red-400'}">${rsScore}</td>
                        <td>${signal}</td>
                        <td class="font-tech text-gray-400">${stopLoss}</td>
                    </tr>
                `;
            });

            document.getElementById('live-time').innerText = new Date().toLocaleTimeString();
            document.getElementById('oracle-msg').innerText = btcChg < -1 ? "ã€Œé ˜ä¸»ï¼Œç›®å‰ BTC è·Œç ´ 150MA é æœŸï¼Œå¤§ç›¤é€²å…¥é¢¨éšªå€ã€‚è«‹ç›¯ç·Šé›·é”ä¸­çš„å¼±å‹¢å¹£ï¼Œå¯èƒ½æ˜¯çµ•ä½³çš„ç©ºé ­çµæ®ºç›®æ¨™ã€‚ã€" : "ã€ŒRS æŒ‡æ•¸é¡¯ç¤ºæˆ‘è»é ˜è¢–å¹£ç¨®æ­£åœ¨è“„å‹¢ï¼Œè«‹ç¢ºèª 12K é«˜é»çªç ´å¾Œæœæ–·é€²å ´ã€‚ã€";
        }

        setInterval(fetchAllMarketData, 5000);
        fetchAllMarketData();
    </script>
</body>
</html>
